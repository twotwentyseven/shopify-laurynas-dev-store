<script type="application/ld+json">
    { "@context" : "http://schema.org",
        "@type" : "Organization",
        "legalName" : "{{ shop.name }}",
        "url" : "{{ shop.url }}",
        "contactPoint" : [
            {
                "@type" : "ContactPoint",
                "telephone" : "{{ shop.phone }}",
                "contactType" : "customer service"
            }
        ],
        "logo" : "{{ settings.logo | img_url: '' }}",
        "sameAs" : [ 
            {% if settings.social_facebook_link != blank %}"{{ settings.social_facebook_link }}",{% endif %}
            {% if settings.social_twitter_link != blank %}"{{ settings.social_twitter_link }}",{% endif %}
            {% if settings.social_linkedin_link != blank %}"{{ settings.social_linkedin_link }}",{% endif %}
            {% if settings.social_youtube_link != blank %}"{{ settings.social_youtube_link }}",{% endif %}
            {% if settings.social_tumblr_link != blank %}"{{ settings.social_tumblr_link }}",{% endif %}
            {% if settings.social_vimeo_link != blank %}"{{ settings.social_vimeo_link }}",{% endif %}
            {% if settings.social_pinterest_link != blank %}"{{ settings.social_pinterest_link }}",{% endif %}
            {% if settings.social_snapchat_link != blank %}"{{ settings.social_snapchat_link }}",{% endif %}
            {% if settings.social_instagram_link != blank %}"{{ settings.social_instagram_link }}"{% if settings.social_tiktok_link != blank %},{% endif %}{% endif %}
            {% if settings.social_tiktok_link != blank %}"{{ settings.social_tiktok_link }}"{% endif %}
        ]   
    }
</script>
    
<script type="application/ld+json">
    {
        "@context" : "http://schema.org",
        "@type" : "WebSite", 
        "name" : "{{ shop.name }}",
        "url" : "{{ shop.url }}",
        "potentialAction" : {
            "@type" : "SearchAction",
            "target" : "{{ shop.url }}/search?q={search_term}",
            "query-input" : "required name=search_term"
        }                  
    }
</script>

{% if template  == 'product' %}
<script type="application/ld+json">
    {
      "@context": "https://schema.org/",
      "@type": "Product",
      "image": [
        {% for image in product.images %}
            {{ image.src }}{%unless forloop.last %},{% endunless %}
        {% endfor %}
      ],
      "name": "{{product.title}}",
      "description": "{{ product.description }}",
      {% if brand != blank %}
      "brand": {
        "@type": "Brand",
        "name": "{{ brand }}"
      },
      {% endif %}
      "offers": {
        "@type": "Offer",
        "url": "https://www.example.com/trinket_offer",
        "itemCondition": "https://schema.org/NewCondition",
        "availability": "https://schema.org/InStock",
        "price": "39.99",
        "priceCurrency": "USD",
        "priceValidUntil": "2020-11-20",
        "shippingDetails": {
          "@type": "OfferShippingDetails",
          "shippingRate": {
            "@type": "MonetaryAmount",
            "value": "3.49",
            "currency": "USD"
          },
          "shippingDestination": {
            "@type": "DefinedRegion",
            "addressCountry": "US"
          },
          "deliveryTime": {
            "@type": "ShippingDeliveryTime",
            "handlingTime": {
              "@type": "QuantitativeValue",
              "minValue": "0",
              "maxValue": "1"
            },
            "transitTime": {
              "@type": "QuantitativeValue",
              "minValue": "1",
              "maxValue": "5"
            }
          }
        }
      },
      "review": {
        "@type": "Review",
          "reviewRating": {
            "@type": "Rating",
            "ratingValue": "4",
            "bestRating": "5"
          },
          "author": {
            "@type": "Person",
            "name": "Fred Benson"
          }
        },
        "aggregateRating": {
          "@type": "AggregateRating",
          "ratingValue": "4.4",
          "reviewCount": "89"
        }
      }
</script>
{% endif %}