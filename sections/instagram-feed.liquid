{% assign ss = section.settings %}

<section class="article-list | overflow-y-visible overflow-x-hidden relative w-full py-10 | lg:px-container-gutter-lg | {{ ss.text-align }} {{ ss.bg_color }}-{{ss.bg_color_shade}}">
    
    {% if ss.title != blank%}
        <h2 class="title | mb-2 |  {{ ss.title_typeface }} {{ ss.title_weight }} {{ ss.title_color }}-{{ ss.title_color_shade }} {{ ss.title_size }}">
            {{ ss.title }}
        </h2>
    {% endif %}

    {% if ss.subtitle != blank %}
        <div class="content | mb-4 | lg:mb-10 | {{ ss.subtitle_typeface }} {{ ss.subtitle_size }} {{ ss.subtitle_weight }} {{ ss.subtitle_color }}-{{ ss.subtitle_color_shade }}">
            {{ ss.subtitle }}
        </div>
    {% endif %}

    <div id="instafeed" class="flex flex-wrap justify-center -mx-gutter overflow-hidden | lg:w-9/12 lg:mx-auto">
        <div data-placeholder class="p-gutter w-1/2 first:w-full before:pt-[100%] before:block before:content-[''] before:bg-gray-300 | lg:first:w-1/3 lg:w-1/3 lg:py-gutter-lg lg:px-gutter-lg"></div>
        <div data-placeholder class="p-gutter w-1/2 first:w-full before:pt-[100%] before:block before:content-[''] before:bg-gray-300 | lg:first:w-1/3 lg:w-1/3 lg:py-gutter-lg lg:px-gutter-lg"></div>
        <div data-placeholder class="p-gutter w-1/2 first:w-full before:pt-[100%] before:block before:content-[''] before:bg-gray-300 | lg:first:w-1/3 lg:w-1/3 lg:py-gutter-lg lg:px-gutter-lg"></div>
    </div>

</section>

<script>

	window.accessToken = '{{ settings.instagram_token }}'
	window.limit = {{ settings.instagram_limit }}
    {% raw %}
    window.instagramTemplate = '<a class="p-gutter w-1/2 first:w-full | lg:first:w-1/3 lg:w-1/3 lg:py-gutter-lg lg:px-gutter-lg" href="{{link}}"><img title="{{caption}}" src="{{image}}" /></a>'
    {% endraw %}

</script>


{% schema %}
    {
        "name": "Instagram Feed",
        "settings": [
            {
                "type": "header",
                "content": "background color (if media is not used)"
            },
            {
                "type": "select",
                "id": "bg_color",
                "options": [
                    {
                        "value": "bg-primary",
                        "label": "Teal"
                    },
                    {
                        "value": "bg-secondary",
                        "label": "Brown"
                    },
                    {
                        "value": "bg-neutral",
                        "label": "White"
                    },
                    {
                        "value": "",
                        "label": "None"
                    }
                ],
                "label": "Background color"
            },
            {
                "type": "range",
                "id": "bg_color_shade",
                "min": 0,
                "max": 900,
                "step": 100,
                "label": "Background color shade",
                "info": "Number range 0 - 900. Lighest to darkest",
                "default": 500
            },
            {
                "type": "select",
                "id": "text-align",
                "options": [
                    {
                        "value": "text-center justify-center",
                        "label": "Center"
                    }, {
                        "value": "text-left justify-center lg:justify-start",
                        "label": "Left"
                    }, {
                        "value": "text-right justify-center lg:justify-end",
                        "label": "Right"
                    }
                ],
                "label": "Text alignment"
            }, 
            {
                "type": "header",
                "content": "Fonts & Copy"
            },
            {
                "type": "textarea",
                "id": "title",
                "label": "Title"
            },
            {
                "type": "select",
                "id": "title_typeface",
                "options": [
                    { "value": "font-headline", "label": "Headline"},
                    { "value": "font-body", "label": "Body"}
                ],
                "label": "Title font"
            },
            {
                "type": "select",
                "id": "title_size",
                "options": [
                    { "value": "text-headline-6 lg:text-headline-6-lg", "label": "Heading 6"},
                    { "value": "text-headline-5 lg:text-headline-5-lg", "label": "Heading 5"},
                    { "value": "text-headline-4 lg:text-headline-4-lg", "label": "Heading 4"},
                    { "value": "text-headline-3 lg:text-headline-3-lg", "label": "Heading 3"},
                    { "value": "text-headline-2 lg:text-headline-2-lg", "label": "Heading 2"},
                    { "value": "text-headline-1 lg:text-headline-1-lg", "label": "Heading 1"},
                    { "value": "text-display lg:text-display-lg", "label": "Display"}
                ],
                "label": "Title heading size"
            },
            {
                "type": "select",
                "id": "title_weight",
                "options": [
                    { "value": "font-bold", "label": "Bold"},
                    { "value": "font-semibold", "label": "Semibold"},
                    { "value": "font-medium", "label": "Medium"},
                    { "value": "font-normal", "label": "Normal"},
                    { "value": "font-light", "label": "Light"},
                    { "value": "font-extralight", "label": "Extralight"},
                    { "value": "font-thin", "label": "Thin"}
                ],
                "label": "Title weight"
            },
            {
                "type": "select",
                "id": "title_color",
                "options": [
                    { "value": "text-primary", "label": "Teal"},
                    { "value": "text-secondary", "label": "Brown"},
                    { "value": "text-neutral", "label": "White"}     
                ],
                "label": "Title color"
            },
            {
                "type": "range",
                "id": "title_color_shade",
                "min": 0,
                "max": 900,
                "step": 100,
                "label": "Title color shade",
                "info": "Number range 0 - 900. Lighest to darkest",
                "default": 500
            },
            {
                "type": "richtext",
                "id": "subtitle",
                "label": "Subtitle"
            },
            {
                "type": "select",
                "id": "subtitle_typeface",
                "options": [
                    { "value": "font-headline", "label": "Headline"},
                    { "value": "font-body", "label": "Body"}
                ],
                "label": "Subtitle font"
            },
            {
                "type": "select",
                "id": "subtitle_size",
                "options": [
                    { "value": "text-body-small lg:text-body-small-lg", "label": "Body Small" },
                    { "value": "text-body-medium lg:text-body-medium-lg", "label": "Body Medium" },
                    { "value": "text-body-large lg:text-body-large-lg", "label": "Body Large" },
                    { "value": "text-headline-6 lg:text-headline-6-lg", "label": "Heading 6" },
                    { "value": "text-headline-5 lg:text-headline-5-lg", "label": "Heading 5" },
                    { "value": "text-headline-4 lg:text-headline-4-lg", "label": "Heading 4" },
                    { "value": "text-headline-3 lg:text-headline-3-lg", "label": "Heading 3" },
                    { "value": "text-headline-2 lg:text-headline-2-lg", "label": "Heading 2"},
                    { "value": "text-headline-1 lg:text-headline-1-lg", "label": "Heading 1"},
                    { "value": "text-display lg:text-display-lg", "label": "Display"}
                ],
                "label": "Subtitle heading size"
            },
            {
                "type": "select",
                "id": "subtitle_weight",
                "options": [
                    {
                        "value": "font-bold",
                        "label": "Bold"
                    },
                    {
                        "value": "font-semibold",
                        "label": "Semibold"
                    },
                    {
                        "value": "font-medium",
                        "label": "Medium"
                    },
                    {
                        "value": "font-normal",
                        "label": "Normal"
                    },
                    {
                        "value": "font-light",
                        "label": "Light"
                    },
                    {
                        "value": "font-extralight",
                        "label": "Extralight"
                    },
                    {
                        "value": "font-thin",
                        "label": "Thin"
                    }
                ],
                "label": "Title weight"
            },
            {
                "type": "select",
                "id": "subtitle_color",
                "options": [
                    {
                        "value": "text-primary",
                        "label": "Teal"
                    },
                    {
                        "value": "text-secondary",
                        "label": "Brown"
                    },
                    {
                        "value": "text-neutral",
                        "label": "White"
                    }
                ],
                "label": "Subtitle color"
            },
            {
                "type": "range",
                "id": "subtitle_color_shade",
                "min": 0,
                "max": 900,
                "step": 100,
                "label": "Subtitle color shade",
                "info": "Number range 0 - 900. Lighest to darkest",
                "default": 500
            }
        ],
        "presets": [
            {
                "name": "Instagram Feed"
            }
        ]

    }
{% endschema %}